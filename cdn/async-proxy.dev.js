var w=v();self.asyncProxyScriptBlob=new w;
function v(){function b(){this.b=["'use strict';"];this.v=this.h=null;this.g(v,"BlobScriptGenerator");this.l("var asyncProxyScriptBlob = new BlobScriptGenerator();")}b.prototype.g=function(b,e){if(this.h)throw Error("Cannot add member to AsyncProxyScriptBlob after blob was used");e&&(this.b.push("var "),this.b.push(e),this.b.push(" = "));this.b.push("(");this.b.push(b.toString());this.b.push(")();")};b.prototype.l=function(b){if(this.h)throw Error("Cannot add statement to AsyncProxyScriptBlob after blob was used");this.b.push(b)};
b.prototype.getBlob=function(){this.h||(this.h=new Blob(this.b,{type:"application/javascript"}));return this.h};b.prototype.X=function(){this.v||(this.v=URL.createObjectURL(this.getBlob()));return this.v};return b};function x(){function b(b){if(null===e)throw"AsyncProxy internal error: SubWorkerEmulationForChrome not initialized";this.s=++d;e[this.s]=this;self.postMessage({type:"subWorkerCtor",f:this.s,da:b})}var d=0,e=null;b.Z=function(b){e=b};b.prototype.postMessage=function(b,d){self.postMessage({type:"subWorkerPostMessage",f:this.s,data:b},d)};b.prototype.terminate=function(b,d){self.postMessage({type:"subWorkerTerminate",f:this.s},d)};self.asyncProxyScriptBlob.g(x,"SubWorkerEmulationForChrome");return b}
var y=x();function z(){function b(a,g,c,u){var l=this;u=u||{};var f=d.toString(),f=f.replace("SCRIPT_PLACEHOLDER",m.X()),f=URL.createObjectURL(new Blob(["(",f,")()"],{type:"application/javascript"}));l.m=[];l.i=[];l.C=[];l.D=[];l.u=new Worker(f);l.u.onmessage=function(a){e(l,a)};l.F=null;l.o=0;l.I=u.functionsBufferSize||5;l.A=[];l.u.postMessage({G:"ctor",ea:a,W:g,c:c,a:++r,M:!1,ba:b.L()})}function d(){importScripts("SCRIPT_PLACEHOLDER");AsyncProxy.AsyncProxySlave=self.AsyncProxy.AsyncProxySlaveSingleton;AsyncProxy.AsyncProxySlave.R()}
function e(a,g){var c=g.data.a;switch(g.data.type){case "functionCalled":--a.o;n(a);break;case "promiseResult":var b=a.i[c];delete a.i[c];b.resolve(g.data.result);break;case "promiseFailure":b=a.i[c];delete a.i[c];b.reject(g.data.reason);break;case "userData":null!==a.F&&a.F(g.data.ka);break;case "callback":c=a.m[g.data.a];if(void 0===c)throw"Unexpected message from SlaveWorker of callback ID: "+g.data.a+". Maybe should indicate isMultipleTimesCallback = true on creation?";c.H||a.K(a.m[g.data.a]);
null!==c.J&&c.J.apply(null,g.data.c);break;case "subWorkerCtor":var c=new Worker(g.data.da),d=g.data.f;a.C[d]=c;a.D.push(c);c.onmessage=function(c){f(a,c.ports,!1,{G:"subWorkerOnMessage",f:d,data:c.data})};break;case "subWorkerPostMessage":c=a.C[g.data.f];c.postMessage(g.data.data);break;case "subWorkerTerminate":c=a.C[g.data.f];c.terminate();break;default:throw"Unknown message from AsyncProxySlave of type: "+g.data.type;}}function f(a,g,c,b){a.o>=a.I?a.A.push({ja:g,$:c,message:b}):k(a,g,c,b)}function k(a,
g,c,b){c&&++a.o;a.u.postMessage(b,g)}function n(a){for(;a.o<a.I&&0<a.A.length;){var b=a.A.shift();k(a,b.ja,b.$,b.message)}}var m=self.asyncProxyScriptBlob,r=0,t=!1,p=function(){var a=location.href,b=a.lastIndexOf("/");0<=b&&(a=a.substring(0,b));return a}();b.prototype.ia=function(a){this.F=a};b.prototype.terminate=function(){this.u.terminate();for(var a=0;a<this.D.length;++a)this.D[a].terminate()};b.prototype.U=function(a,b,c){c=c||{};var d=!!c.isReturnPromise,e=c.transferables,m=c.pathsToTransferablesInPromiseResult,
h=++r,q=null,p=this;d&&(q=new Promise(function(a,c){p.i[h]={resolve:a,reject:c}}));(c.isSendImmediately?k:f)(this,e,!0,{G:a,c:b||[],a:h,M:d,ca:m});if(d)return q};b.prototype.la=function(a,b,c){c=c||{};var d=++r;b={aa:!0,H:!!c.isMultipleTimeCallback,a:d,V:b,N:c.pathsToTransferables};this.m[d]={H:!!c.isMultipleTimeCallback,a:d,J:a,N:c.pathsToTransferables};return b};b.prototype.K=function(a){delete this.m[a.a]};b.L=function(){t=!0;return p};b.S=function(a){if(p!==a&&t)throw"Previous values returned from getMasterEntryUrl is wrong. Avoid calling it within the slave c`tor";
p=a};m.g(z,"AsyncProxyMaster");return b}var A=z();function B(){function b(){for(var a=t.split("."),b=self,c=0;c<a.length;++c)b=b[a[c]];a=b;b=[null].concat(f(arguments));return new (Function.prototype.bind.apply(a,b))}function d(a,b){if(void 0!==a){for(var c=Array(a.length),d=0;d<a.length;++d){for(var e=a[d],f=b,h=0;h<e.length;++h)f=f[e[h]];c[d]=f}return c}}function e(a){var d=a.data.G,c=a.data.c,e=a.data.a,f=a.data.M,p=a.data.ca;switch(d){case "ctor":self.AsyncProxy.AsyncProxyMaster.S(a.data.ba);e=a.data.ea;t=a.data.W;for(var h=0;h<e.length;++h)importScripts(e[h]);
m=b.apply(null,c);return;case "subWorkerOnMessage":r[a.data.f].onmessage({data:a.data.data});return}c=Array(a.data.c.length);for(h=0;h<a.data.c.length;++h){var q=a.data.c[h];void 0!==q&&null!==q&&q.aa&&(q=k.O(q));c[h]=q}for(var h=m,n;h&&!(n=m[d]);)h=h.__proto__;if(!n)throw"AsyncProxy error: could not find function "+n;c=n.apply(m,c);f&&k.P(e,c,p);self.postMessage({type:"functionCalled",a:a.data.a,result:null})}function f(a){for(var b=Array(a.length),c=0;c<a.length;++c)b[c]=a[c];return b}var k={},
n=null,m,r={},t;k.R=function(){self.onmessage=e};k.ha=function(a){b=a};k.ga=function(a){n=a};k.fa=function(a){self.postMessage({type:"userData",ka:a})};k.P=function(a,b,c){b.then(function(b){var e=d(c,b);self.postMessage({type:"promiseResult",a:a,result:b},e)})["catch"](function(b){self.postMessage({type:"promiseFailure",a:a,reason:b})})};k.O=function(a){var b=!1;return function(){if(b)throw"Callback is called twice but isMultipleTimeCallback = false";var c=f(arguments);if(null!==n)try{n.call(m,"callback",
a.V,c)}catch(e){console.log("AsyncProxySlave.beforeOperationListener has thrown an exception: "+e)}var k=d(a.N,c);self.postMessage({type:"callback",a:a.a,c:c},k);a.H||(b=!0)}};k.w=function(){return C.w(Error())};if(void 0===self.Worker){var p=self.SubWorkerEmulationForChrome;p.Z(r);self.Worker=p}self.asyncProxyScriptBlob.g(B,"AsyncProxySlaveSingleton");return k}var D=B();function E(){function b(){this.B={};this.j=null}b.prototype.T=function(d){d=b.w(d);this.B[d]||(this.B[d]=!0,this.j=null)};b.prototype.Y=function(){if(null===this.j){this.j=[];for(var b in this.B)this.j.push(b)}return this.j};b.w=function(b){var e=b.stack.trim(),f=/at (|[^ ]+ \()([^ ]+):\d+:\d+/.exec(e);if(f&&""!==f[2])return f[2];if((f=(new RegExp(/.+\/(.*?):\d+(:\d+)*$/)).exec(e))&&""!==f[1])return f[1];if(void 0!=b.fileName)return b.fileName;throw"ImageDecoderFramework.js: Could not get current script URL";
};self.asyncProxyScriptBlob.g(E,"ScriptsToImportPool");return b}var C=E();function F(){asyncProxyScriptBlob.g(F,"ExportAsyncProxySymbols");asyncProxyScriptBlob.l("ExportAsyncProxySymbols(SubWorkerEmulationForChrome, AsyncProxySlaveSingleton, AsyncProxyMaster, ScriptsToImportPool);");asyncProxyScriptBlob.l("self['AsyncProxy']['AsyncProxySlaveSingleton'] = AsyncProxySlaveSingleton;");asyncProxyScriptBlob.l("self['AsyncProxy']['AsyncProxyMaster'] = AsyncProxyMaster;");asyncProxyScriptBlob.l("self['AsyncProxy']['ScriptsToImportPool'] = ScriptsToImportPool;");return function(b,
d,e,f){self.AsyncProxy=self.AsyncProxy||{};b.prototype.postMessage=b.prototype.postMessage;b.prototype.terminate=b.prototype.terminate;d.setSlaveSideCreator=d.ha;d.setBeforeOperationListener=d.ga;d.sendUserDataToMaster=d.fa;d.wrapPromiseFromSlaveSide=d.P;d.wrapCallbackFromSlaveSide=d.O;e.prototype.setUserDataHandler=e.prototype.ia;e.prototype.terminate=e.prototype.terminate;e.prototype.callFunction=e.prototype.U;e.prototype.wrapCallback=e.prototype.la;e.prototype.freeCallback=e.prototype.K;e.getEntryUrl=
e.L;f.prototype.addScriptFromErrorWithStackTrace=f.prototype.T;f.prototype.getScriptsForWorkerImport=f.prototype.Y}}F()(y,D,A,C);self.AsyncProxy.AsyncProxySlaveSingleton=D;self.AsyncProxy.AsyncProxyMaster=A;self.AsyncProxy.ScriptsToImportPool=C;
