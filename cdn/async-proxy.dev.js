!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.resourceScheduler=e()}}(function(){return function e(t,r,o){function i(s,u){if(!r[s]){if(!t[s]){var d="function"==typeof require&&require;if(!u&&d)return d(s,!0);if(n)return n(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){var r=t[s][1][e];return i(r?r:e)},l,l.exports,e,t,r,o)}return r[s].exports}for(var n="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,r){"use strict";var o=function(){function e(e,t){this._resourceCreator=e,this._jobsLimit=t,this._freeResourcesCount=this._jobsLimit,this._freeResources=new Array(this._jobsLimit),this._pendingJobs=[]}function t(e,t){this._scheduler=e,this._resource=t}return e.prototype.enqueueJob=function(e,t){if(this._freeResourcesCount>0){--this._freeResourcesCount;var r=this._freeResources.pop();void 0===r&&(r=this._resourceCreator()),this._schedule(e,r,t)}else this._pendingJobs.push({jobFunc:e,jobContext:t})},e.prototype._schedule=function(e,r,o){var i=new t(this,r);e(r,o,i)},t.prototype.jobDone=function(){if(this._scheduler._pendingJobs.length>0){var e=this._scheduler._pendingJobs.pop();this._scheduler._schedule(e.jobFunc,this._resource,e.jobContext)}else this._scheduler._freeResources.push(this._resource),++this._scheduler._freeResourcesCount},t.prototype.shouldYieldOrAbort=function(){return!1},t.prototype.tryYield=function(){return!1},e}();t.exports=o},{}],2:[function(e,t,r){"use strict";var o=function(){function e(){this.clear()}return e.prototype.clear=function(){this._first={_prev:null,_parent:this},this._last={_next:null,_parent:this},this._count=0,this._last._prev=this._first,this._first._next=this._last},e.prototype.add=function(e,t){null!==t&&void 0!==t||(t=this._last),this._validateIteratorOfThis(t),++this._count;var r={_value:e,_next:t,_prev:t._prev,_parent:this};return r._prev._next=r,t._prev=r,r},e.prototype.remove=function(e){this._validateIteratorOfThis(e),--this._count,e._prev._next=e._next,e._next._prev=e._prev,e._parent=null},e.prototype.getFromIterator=function(e){return this._validateIteratorOfThis(e),e._value},e.prototype.getFirstIterator=function(){var e=this.getNextIterator(this._first);return e},e.prototype.getLastIterator=function(){var e=this.getPrevIterator(this._last);return e},e.prototype.getNextIterator=function(e){return this._validateIteratorOfThis(e),e._next===this._last?null:e._next},e.prototype.getPrevIterator=function(e){return this._validateIteratorOfThis(e),e._prev===this._first?null:e._prev},e.prototype.getCount=function(){return this._count},e.prototype._validateIteratorOfThis=function(e){if(e._parent!==this)throw"iterator must be of the current LinkedList"},e}();t.exports=o},{}],3:[function(e,t,r){"use strict";var o=e("linked-list"),i=function(){function e(e,t,r,i){i=i||{},this._resourceCreator=e,this._jobsLimit=t,this._prioritizer=r,this._showLog=i.showLog,this._schedulerName=i.schedulerName,this._numNewJobs=i.numNewJobs||20,this._numJobsBeforeRerankOldPriorities=i.numJobsBeforeRerankOldPriorities||20,this._freeResourcesCount=this._jobsLimit,this._freeResources=new Array(this._jobsLimit),this._resourcesGuaranteedForHighPriority=i.resourcesGuaranteedForHighPriority||0,this._highPriorityToGuaranteeResource=i.highPriorityToGuaranteeResource||0,this._logCallIndentPrefix=">",this._pendingJobsCount=0,this._oldPendingJobsByPriority=[],this._newPendingJobsLinkedList=new o,this._schedulesCounter=0}function t(e,t,r){if(e._showLog){var o=e._prioritizer.getPriority(r);y(e,"jobDone() start: job done of priority "+o,1)}_(e,t),g(e),y(e,"jobDone() end",-1)}function r(e,t){y(e,"shouldYieldOrAbort() start",1);var r=e._prioritizer.getPriority(t),o=r<0||n(e,r);return y(e,"shouldYieldOrAbort() end",-1),o}function i(e,t,r,o,i,n){y(e,"tryYield() start",1);var u=e._prioritizer.getPriority(r);if(u<0)return o(r),_(e,n),y(e,"tryYield() end: job aborted",-1),!0;var h=s(e,u);if(g(e),null===h)return y(e,"tryYield() end: job continues",-1),!1;i(r);var l={jobFunc:t,jobAbortedFunc:o,jobContext:r};return d(e,l,u),g(e),a(e,h,n),g(e),y(e,"tryYield() end: job yielded",-1),!0}function n(e,t){var r=e._newPendingJobsLinkedList.getFirstIterator();for(y(e,"hasNewJobWithHigherPriority() start",1);null!==r;){var o=e._newPendingJobsLinkedList.getNextIterator(r),i=e._newPendingJobsLinkedList.getFromIterator(r),n=e._prioritizer.getPriority(i.jobContext);if(n<0)f(e,r),--e._pendingJobsCount,i.jobAbortedFunc(i.jobContext),r=o;else{if(n>t)return y(e,"hasNewJobWithHigherPriority() end: returns true",-1),!0;r=o}}return y(e,"hasNewJobWithHigherPriority() end: returns false",-1),!1}function s(e,t){y(e,"tryDequeueNewJobWithHigherPriority() start",1);for(var r=null,o=t,i=[],n=e._newPendingJobsLinkedList.getFirstIterator();null!==n;){var s=e._newPendingJobsLinkedList.getNextIterator(n),u=e._newPendingJobsLinkedList.getFromIterator(n),d=e._prioritizer.getPriority(u.jobContext);d<0?(f(e,n),--e._pendingJobsCount,u.jobAbortedFunc(u.jobContext),n=s):((void 0===o||d>o)&&(o=d,r=n),e._showLog?(void 0===i[d]?i[d]=1:++i[d],n=s):n=s)}var h=null;if(null!==r&&(h=f(e,r),--e._pendingJobsCount),e._showLog){for(var l="tryDequeueNewJobWithHigherPriority(): Jobs list:",_=0;_<i.length;++_)void 0!==i[_]&&(l+=i[_]+" jobs of priority "+_+";");y(e,l),null!==h&&y(e,"tryDequeueNewJobWithHigherPriority(): dequeued new job of priority "+o)}return g(e),y(e,"tryDequeueNewJobWithHigherPriority() end",-1),h}function u(e){if(y(e,"tryGetFreeResource() start",1),0===e._freeResourcesCount)return null;--e._freeResourcesCount;var t=e._freeResources.pop();return void 0===t&&(t=e._resourceCreator()),g(e),y(e,"tryGetFreeResource() end",-1),t}function d(e,t,r){y(e,"enqueueNewJob() start",1),++e._pendingJobsCount;var o=e._newPendingJobsLinkedList.getFirstIterator();if(c(e,t,o),e._showLog&&y(e,"enqueueNewJob(): enqueued job of priority "+r),e._newPendingJobsLinkedList.getCount()<=e._numNewJobs)return g(e),void y(e,"enqueueNewJob() end: _newPendingJobsLinkedList is small enough",-1);var i=e._newPendingJobsLinkedList.getLastIterator(),n=f(e,i);h(e,n),g(e),y(e,"enqueueNewJob() end: One job moved from new job list to old job list",-1)}function h(e,t){y(e,"enqueueOldJob() start",1);var r=e._prioritizer.getPriority(t.jobContext);return r<0?(--e._pendingJobsCount,t.jobAbortedFunc(t.jobContext),void y(e,"enqueueOldJob() end: job aborted",-1)):(void 0===e._oldPendingJobsByPriority[r]&&(e._oldPendingJobsByPriority[r]=[]),e._oldPendingJobsByPriority[r].push(t),void y(e,"enqueueOldJob() end: job enqueued to old job list",-1))}function l(e){y(e,"rerankPriorities() start",1);var t=e._oldPendingJobsByPriority,r=e._newPendingJobsLinkedList;if(0===t.length)return void y(e,"rerankPriorities() end: no need to rerank",-1);e._oldPendingJobsByPriority=[],e._newPendingJobsLinkedList=new o;for(var i=0;i<t.length;++i)if(void 0!==t[i])for(var n=0;n<t[i].length;++n)h(e,t[i][n]);for(var s=r.getFirstIterator();null!==s;){var u=r.getFromIterator(s);h(e,u),s=r.getNextIterator(s)}for(var d="rerankPriorities(): ",l=e._oldPendingJobsByPriority.length-1;l>=0;--l){var _=e._oldPendingJobsByPriority[l];if(void 0!==_){for(e._showLog&&(d+=_.length+" jobs in priority "+l+";");_.length>0&&e._newPendingJobsLinkedList.getCount()<e._numNewJobs;){var a=_.pop();c(e,a)}if(e._newPendingJobsLinkedList.getCount()>=e._numNewJobs&&!e._showLog)break}}e._showLog&&y(e,d),g(e),y(e,"rerankPriorities() end: rerank done",-1)}function _(e,t){y(e,"resourceFreed() start",1),++e._freeResourcesCount;var r=p(e);--e._freeResourcesCount;var o=s(e,r);if(null!==o)return g(e),a(e,o,t),g(e),void y(e,"resourceFreed() end: new job scheduled",-1);var i=e._pendingJobsCount>e._newPendingJobsLinkedList.getCount();if(!i)return e._freeResources.push(t),++e._freeResourcesCount,g(e),void y(e,"resourceFreed() end: no job to schedule",-1);for(var n,u=e._oldPendingJobsByPriority.length,d=u-1;d>=0;--d){var h=e._oldPendingJobsByPriority[d];if(void 0!==h&&0!==h.length){for(var l=h.length-1;l>=0;--l){if(o=h[l],n=e._prioritizer.getPriority(o.jobContext),n>=d){h.length=l;break}n<0?(--e._pendingJobsCount,o.jobAbortedFunc(o.jobContext)):(void 0===e._oldPendingJobsByPriority[n]&&(e._oldPendingJobsByPriority[n]=[]),e._oldPendingJobsByPriority[n].push(o)),o=null}if(null!==o)break;h.length=0}}return null===o?(e._freeResources.push(t),++e._freeResourcesCount,g(e),void y(e,"resourceFreed() end: no non-aborted job to schedule",-1)):(e._showLog&&y(e,"resourceFreed(): dequeued old job of priority "+n),--e._pendingJobsCount,g(e),a(e,o,t),g(e),void y(e,"resourceFreed() end: job scheduled",-1))}function a(e,t,r){if(y(e,"schedule() start",1),++e._schedulesCounter,e._schedulesCounter>=e._numJobsBeforeRerankOldPriorities&&(e._schedulesCounter=0,l(e)),e._showLog){var o=e._prioritizer.getPriority(t.jobContext);y(e,"schedule(): scheduled job of priority "+o)}var i=new v(e,r,t.jobContext);t.jobFunc(r,t.jobContext,i),y(e,"schedule() end",-1)}function c(e,t,r){y(e,"addJobToLinkedList() start",1),e._newPendingJobsLinkedList.add(t,r),b(e),y(e,"addJobToLinkedList() end",-1)}function f(e,t){y(e,"extractJobFromLinkedList() start",1);var r=e._newPendingJobsLinkedList.getFromIterator(t);return e._newPendingJobsLinkedList.remove(t),b(e),y(e,"extractJobFromLinkedList() end",-1),r}function b(e){if(e._showLog){y(e,"ensureNumberOfNodes() start",1);for(var t=e._newPendingJobsLinkedList.getFirstIterator(),r=0;null!==t;)++r,t=e._newPendingJobsLinkedList.getNextIterator(t);if(r!==e._newPendingJobsLinkedList.getCount())throw"Unexpected count of new jobs";y(e,"ensureNumberOfNodes() end",-1)}}function g(e){if(e._showLog){y(e,"ensurePendingJobsCount() start",1);for(var t=0,r=0;r<e._oldPendingJobsByPriority.length;++r){var o=e._oldPendingJobsByPriority[r];void 0!==o&&(t+=o.length)}var i=t+e._newPendingJobsLinkedList.getCount();if(i!==e._pendingJobsCount)throw"Unexpected count of jobs";y(e,"ensurePendingJobsCount() end",-1)}}function p(e){return y(e,"getMinimalPriorityToSchedule() start",1),e._freeResourcesCount<=e._resourcesGuaranteedForHighPriority?(y(e,"getMinimalPriorityToSchedule() end: guarantee resource for high priority is needed",-1),e._highPriorityToGuaranteeResources):(y(e,"getMinimalPriorityToSchedule() end: enough resources, no need to guarantee resource for high priority",-1),0)}function y(e,t,r){e._showLog&&(r===-1&&(e._logCallIndentPrefix=e._logCallIndentPrefix.substr(1)),void 0!==e._schedulerName?console.log(e._logCallIndentPrefix+"PriorityScheduler "+e._schedulerName+": "+t):console.log(e._logCallIndentPrefix+"PriorityScheduler: "+t),1===r&&(e._logCallIndentPrefix+=">"))}function v(e,t,r){this._isValid=!0,this._scheduler=e,this._resource=t,this._context=r}return e.prototype.enqueueJob=function(e,t,r){y(this,"enqueueJob() start",1);var o=this._prioritizer.getPriority(t);if(o<0)return r(t),void y(this,"enqueueJob() end: job aborted",-1);var i={jobFunc:e,jobAbortedFunc:r,jobContext:t},n=p(this),s=null;return o>=n&&(s=u(this)),null!==s?(a(this,i,s),void y(this,"enqueueJob() end: job scheduled",-1)):(d(this,i,o),g(this),void y(this,"enqueueJob() end: job pending",-1))},v.prototype._checkValidity=function(){if(!this._isValid)throw"ResourceScheduler error: Already terminated job"},v.prototype._clearValidity=function(){this._isValid=!1,this._resource=null,this._context=null,this._scheduler=null},v.prototype.jobDone=function(){this._checkValidity(),t(this._scheduler,this._resource,this._context),this._clearValidity()},v.prototype.shouldYieldOrAbort=function(){return this._checkValidity(),r(this._scheduler,this._context)},v.prototype.tryYield=function(e,t,r){this._checkValidity();var o=i(this._scheduler,e,this._context,t,r,this._resource);return o&&this._clearValidity(),o},e}();t.exports=i},{"linked-list":2}],4:[function(e,t,r){"use strict";t.exports.PriorityScheduler=e("priority-scheduler"),t.exports.LifoScheduler=e("lifo-scheduler")},{"lifo-scheduler":1,"priority-scheduler":3}]},{},[4])(4)});
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.asyncProxy=t()}}(function(){return function t(e,r,s){function n(i,o){if(!r[i]){if(!e[i]){var l="function"==typeof require&&require;if(!o&&l)return l(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var p=r[i]={exports:{}};e[i][0].call(p.exports,function(t){var r=e[i][1][t];return n(r?r:t)},p,p.exports,t,e,r,s)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<s.length;i++)n(s[i]);return n}({1:[function(t,e,r){"use strict";var s=t("sub-worker-emulation-for-chrome"),n=t("async-proxy-factory"),a=t("async-proxy-slave"),i=t("async-proxy-master"),o=t("scripts-to-Import-Pool"),l=t("dependency-workers"),c=t("dependency-workers-task-context"),p=t("dependency-workers-task"),u=t("wrapper-input-retreiver-base"),d=t("scheduler-task"),h=t("scheduler-wrapper-input-retreiver"),y=t("scheduler-dependency-workers"),_=t("dependency-workers-task-scheduler");e.exports.SubWorkerEmulationForChrome=s,e.exports.AsyncProxyFactory=n,e.exports.AsyncProxySlave=a,e.exports.AsyncProxyMaster=i,e.exports.ScriptsToImportPool=o,e.exports.DependencyWorkers=l,e.exports.DependencyWorkersTaskContext=c,e.exports.DependencyWorkersTask=p,e.exports.WrapperInputRetreiverBase=u,e.exports.SchedulerTask=d,e.exports.SchedulerWrapperInputRetreiver=h,e.exports.SchedulerDependencyWorkers=y,e.exports.DependencyWorkersTaskScheduler=_},{"async-proxy-factory":2,"async-proxy-master":3,"async-proxy-slave":4,"dependency-workers":9,"dependency-workers-task":8,"dependency-workers-task-context":5,"dependency-workers-task-scheduler":7,"scheduler-dependency-workers":13,"scheduler-task":14,"scheduler-wrapper-input-retreiver":15,"scripts-to-Import-Pool":17,"sub-worker-emulation-for-chrome":19,"wrapper-input-retreiver-base":16}],2:[function(t,e,r){"use strict";var s=t("async-proxy-master"),n=function(){function t(t,e,r){if("function"==typeof r)return void(t.prototype[e]=r);r[0]||{};t.prototype[e]=function(){for(var t=this._getWorkerHelper(),s=[],n=0;n<arguments.length;++n){var a=r[n+1],i=arguments[n];if("callback"===a)s[n]=t.wrapCallback(i);else{if(a)throw"AsyncProxyFactory error: Unrecognized argument description "+a+" in argument "+(n+1)+" of method "+e;s[n]=i}}return t.callFunction(e,s,r[0])}}function e(t){for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var r={};return r.create=function(r,n,a,i){if(!r||!r.length)throw"AsyncProxyFactory error: missing scriptsToImport (2nd argument)";if(!a)throw"AsyncProxyFactory error: missing methods (3rd argument)";var o=i||function(){this.__workerHelperCtorArgs=e(arguments)};o.prototype._getWorkerHelper=function(){return this.__workerHelper||(this.__workerHelper=new s(r,n,this.__workerHelperCtorArgs||[])),this.__workerHelper};for(var l in a)t(o,l,a[l]||[]);return o},r}();e.exports=n},{"async-proxy-master":3}],3:[function(t,e,r){"use strict";var s=t("scripts-to-import-pool"),n=function(){function t(s,a,i,o){function l(t){n(p,t)}var p=this;o=o||{},p._callbacks=[],p._pendingPromiseCalls=[],p._subWorkerById=[],p._subWorkers=[],p._userDataHandler=null,p._notReturnedFunctions=0,p._functionsBufferSize=o.functionsBufferSize||5,p._pendingMessages=[];var u=e(),d=r.toString();d=d.replace("SCRIPT_PLACEHOLDER",u);var h=new Blob(["(",d,")()"],{type:"application/javascript"}),y=URL.createObjectURL(h);p._worker=new Worker(y),p._worker.onmessage=l,p._worker.postMessage({functionToCall:"ctor",scriptsToImport:s,ctorName:a,args:i,callId:++c,isPromise:!1,masterEntryUrl:t.getEntryUrl()})}function e(){var t=new Error;return s._getScriptName(t)}function r(){importScripts("SCRIPT_PLACEHOLDER"),asyncProxy.AsyncProxySlave._initializeSlave()}function n(t,e){var r=e.data.callId;switch(e.data.type){case"functionCalled":--t._notReturnedFunctions,o(t);break;case"promiseResult":var s=t._pendingPromiseCalls[r];delete t._pendingPromiseCalls[r];var n=e.data.result;s.resolve(n);break;case"promiseFailure":var i=t._pendingPromiseCalls[r];delete t._pendingPromiseCalls[r];var l=e.data.reason;i.reject(l);break;case"userData":null!==t._userDataHandler&&t._userDataHandler(e.data.userData);break;case"callback":var c=t._callbacks[e.data.callId];if(void 0===c)throw"Unexpected message from SlaveWorker of callback ID: "+e.data.callId+". Maybe should indicate isMultipleTimesCallback = true on creation?";c.isMultipleTimeCallback||t.freeCallback(t._callbacks[e.data.callId]),null!==c.callback&&c.callback.apply(null,e.data.args);break;case"subWorkerCtor":var p=new Worker(e.data.scriptUrl),u=e.data.subWorkerId;t._subWorkerById[u]=p,t._subWorkers.push(p),p.onmessage=function(e){a(t,e.ports,!1,{functionToCall:"subWorkerOnMessage",subWorkerId:u,data:e.data})};break;case"subWorkerPostMessage":var d=t._subWorkerById[e.data.subWorkerId];d.postMessage(e.data.data);break;case"subWorkerTerminate":var h=t._subWorkerById[e.data.subWorkerId];h.terminate();break;default:throw"Unknown message from AsyncProxySlave of type: "+e.data.type}}function a(t,e,r,s){return t._notReturnedFunctions>=t._functionsBufferSize?void t._pendingMessages.push({transferables:e,isFunctionCall:r,message:s}):void i(t,e,r,s)}function i(t,e,r,s){r&&++t._notReturnedFunctions,t._worker.postMessage(s,e)}function o(t){for(;t._notReturnedFunctions<t._functionsBufferSize&&t._pendingMessages.length>0;){var e=t._pendingMessages.shift();i(t,e.transferables,e.isFunctionCall,e.message)}}function l(){var t=location.href,e=t.lastIndexOf("/");return e>=0&&(t=t.substring(0,e)),t}var c=0,p=!1,u=l();return t.prototype.setUserDataHandler=function(t){this._userDataHandler=t},t.prototype.terminate=function(){this._worker.terminate();for(var t=0;t<this._subWorkers.length;++t)this._subWorkers[t].terminate()},t.prototype.callFunction=function(e,r,s){s=s||{};var n=!!s.isReturnPromise,o=s.transferables||[],l=s.pathsToTransferablesInPromiseResult,p=++c,u=null,d=this;n&&(u=new Promise(function(t,e){d._pendingPromiseCalls[p]={resolve:t,reject:e}}));var h,y=s.isSendImmediately?i:a;if(h="function"==typeof o?o():t._extractTransferables(o,r),y(this,h,!0,{functionToCall:e,args:r||[],callId:p,isPromise:n,pathsToTransferablesInPromiseResult:l}),n)return u},t.prototype.wrapCallback=function(t,e,r){r=r||{};var s=++c,n={isWorkerHelperCallback:!0,isMultipleTimeCallback:!!r.isMultipleTimeCallback,callId:s,callbackName:e,pathsToTransferables:r.pathsToTransferables},a={isMultipleTimeCallback:!!r.isMultipleTimeCallback,callId:s,callback:t,pathsToTransferables:r.pathsToTransferables};return this._callbacks[s]=a,n},t.prototype.freeCallback=function(t){delete this._callbacks[t.callId]},t.getEntryUrl=function(){return p=!0,u},t._setEntryUrl=function(t){if(u!==t&&p)throw"Previous values returned from getMasterEntryUrl is wrong. Avoid calling it within the slave c`tor";u=t},t._extractTransferables=function(t,e){if(void 0!==t){for(var r=new Array(t.length),s=0;s<t.length;++s){for(var n=t[s],a=e,i=0;i<n.length;++i){var o=n[i];a=a[o]}r[s]=a}return r}},t}();e.exports=n},{"scripts-to-import-pool":18}],4:[function(t,e,r){"use strict";var s=t("async-proxy-master"),n=t("sub-worker-emulation-for-chrome"),a=function(){function t(t){var e=t.data.functionToCall,r=t.data.args,n=t.data.callId,l=t.data.isPromise,u=t.data.pathsToTransferablesInPromiseResult,d=null;switch(e){case"ctor":s._setEntryUrl(t.data.masterEntryUrl);var h=t.data.scriptsToImport;i=t.data.ctorName;for(var y=0;y<h.length;++y)importScripts(h[y]);return void(a=c.apply(null,r));case"subWorkerOnMessage":var _=p[t.data.subWorkerId],f={data:t.data.data};return void _.onmessage(f)}r=new Array(t.data.args.length);for(var k=0;k<t.data.args.length;++k){var g=t.data.args[k];void 0!==g&&null!==g&&g.isWorkerHelperCallback&&(g=o.wrapCallbackFromSlaveSide(g)),r[k]=g}for(var v,m=a;m&&!(v=a[e]);)m=m.__proto__;if(!v)throw"AsyncProxy error: could not find function "+e;var T=v.apply(a,r);l&&o.wrapPromiseFromSlaveSide(n,T,u),self.postMessage({type:"functionCalled",callId:t.data.callId,result:d})}function e(){var t;try{for(var e=i.split("."),s=self,n=0;n<e.length;++n)s=s[e[n]];var a=s,o=[null].concat(r(arguments));t=new(Function.prototype.bind.apply(a,o))}catch(l){throw new Error("Failed locating class name "+i+": "+l)}return t}function r(t){for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var a,i,o={},l=null,c=e,p={};return o._initializeSlave=function(){self.onmessage=t},o.setSlaveSideCreator=function(t){c=t},o.setBeforeOperationListener=function(t){l=t},o.sendUserDataToMaster=function(t){self.postMessage({type:"userData",userData:t})},o.wrapPromiseFromSlaveSide=function(t,e,r){var n=e.then(function(e){var n=s._extractTransferables(r,e);self.postMessage({type:"promiseResult",callId:t,result:e},n)});n["catch"](function(e){self.postMessage({type:"promiseFailure",callId:t,reason:e})})},o.wrapCallbackFromSlaveSide=function(t){function e(){if(n)throw"Callback is called twice but isMultipleTimeCallback = false";var e=r(arguments);if(null!==l)try{l.call(a,"callback",t.callbackName,e)}catch(i){console.log("AsyncProxySlave.beforeOperationListener has thrown an exception: "+i)}var o=s._extractTransferables(t.pathsToTransferables,e);self.postMessage({type:"callback",callId:t.callId,args:e},o),t.isMultipleTimeCallback||(n=!0)}var n=!1;return e},void 0===self.Worker&&(n.initialize(p),self.Worker=n),o}();e.exports=a},{"async-proxy-master":3,"sub-worker-emulation-for-chrome":19}],5:[function(t,e,r){"use strict";var s=function(){function t(t,e){this._taskInternals=t,this._callbacks=e,this._taskContextsIterator=t.taskContexts.add(this),this._priorityCalculatorIterator=null}return t.prototype.hasData=function(){return this._taskInternals.hasProcessedData},t.prototype.getLastData=function(){return this._taskInternals.lastProcessedData},t.prototype.setPriorityCalculator=function(t){null!==this._priorityCalculatorIterator?(this._taskInternals.priorityCalculators.remove(this._priorityCalculatorIterator),this._priorityCalculatorIterator=null,t||0!==this._taskInternals.priorityCalculators.getCount()||this._taskInternals.unregisterDependPriorityCalculator()):t&&0===this._taskInternals.priorityCalculators.getCount()&&this._taskInternals.registerDependPriorityCalculator(),t&&(this._priorityCalculatorIterator=this._taskInternals.priorityCalculators.add(t))},t.prototype.unregister=function(){if(!this._taskContextsIterator)throw"AsyncProxy.DependencyWorkers: Already unregistered";this.setPriorityCalculator(null),this._taskInternals.taskContexts.remove(this._taskContextsIterator),this._taskContextsIterator=null,this._taskInternals.isTerminated||this._taskInternals.statusUpdate()},t}();e.exports=s},{}],6:[function(t,e,r){"use strict";var s=t("linked-list"),n=t("js-builtin-hash-map"),a=t("dependency-workers-task"),i=function(){function t(){this.isTerminated=!1,this.lastProcessedData=null,this.taskApi=null,this.hasProcessedData=!1,this.waitingForWorkerResult=!1,this.isPendingDataForWorker=!1,this.pendingDataForWorker=null,this.pendingWorkerType=0,this.taskContexts=new s,this.priorityCalculators=new s,this.taskKey=null,this._isActualTerminationPending=!1,this._dependsTasksTerminatedCount=0,this._parentDependencyWorkers=null,this._workerInputRetreiver=null,this._parentList=null,this._parentIterator=null,this._dependsTaskContexts=null,this._priorityCalculator=null,this._isRegisteredDependPriorityCalculator=!1,this._dependTaskKeys=[],this._dependTaskResults=[],this._hasDependTaskData=[],this._pendingDelayedAction=!1,this._pendingDelayedDependencyData=[],this._pendingDelayedEnded=!1,this._pendingDelayedNewData=!1,this._performPendingDelayedActionsBound=this._performPendingDelayedActions.bind(this)}return t.prototype.initialize=function(t,e,r,s,i){this.taskKey=t,this._parentDependencyWorkers=e,this._workerInputRetreiver=r,this._parentList=s,this._parentIterator=i,this._dependsTaskContexts=new n,this.taskApi=new a(this,t)},t.prototype.ended=function(){this._parentList.remove(this._parentIterator),this._parentIterator=null;for(var t=this._dependsTaskContexts.getFirstIterator();null!==t;){var e=this._dependsTaskContexts.getFromIterator(t).taskContext;t=this._dependsTaskContexts.getNextIterator(t),e.unregister()}this._dependsTaskContexts.clear(),this._pendingDelayedEnded=!0,this._pendingDelayedAction||(this._pendingDelayedAction=!0,setTimeout(this._performPendingDelayedActionsBound))},t.prototype.statusUpdate=function(){var t={hasListeners:this.taskContexts.getCount()>0,isWaitingForWorkerResult:this.waitingForWorkerResult,terminatedDependsTasks:this._dependsTasksTerminatedCount,dependsTasks:this._dependsTaskContexts.getCount()};this.taskApi._onEvent("statusUpdated",t),this._isActualTerminationPending&&!this.waitingForWorkerResult&&(this._isActualTerminationPending=!1,this.ended())},t.prototype.calculatePriority=function(){for(var t=this.priorityCalculators.getFirstIterator(),e=!0,r=0;null!==t;){var s=this.priorityCalculators.getFromIterator(t),n=s();(e||n>r)&&(r=n),t=this.priorityCalculators.getNextIterator(t)}return r},t.prototype.newData=function(t){this.hasProcessedData=!0,this.lastProcessedData=t,this._pendingDelayedNewData=!0,this._pendingDelayedAction||(this._pendingDelayedAction=!0,setTimeout(this._performPendingDelayedActionsBound))},t.prototype.dataReady=function(t,e){if(this.isTerminated)throw"AsyncProxy.DependencyWorkers: already terminated";this.waitingForWorkerResult?(this.pendingDataForWorker=t,this.isPendingDataForWorker=!0,this.pendingWorkerType=e):this._parentDependencyWorkers._dataReady(this,t,e)},t.prototype.terminate=function(){if(this.isTerminated)throw"AsyncProxy.DependencyWorkers: already terminated";this.isTerminated=!0,this.waitingForWorkerResult?this._isActualTerminationPending=!0:this.ended()},t.prototype.registerDependPriorityCalculator=function(){if(this._isRegisteredDependPriorityCalculator)throw"AsyncProxy.DependencyWorkers: already registered depend priority calculator";null===this._priorityCalculator&&(this._priorityCalculator=this.calculatePriority.bind(this)),this._isRegisteredDependPriorityCalculator=!0;for(var t=this._dependsTaskContexts.getFirstIterator();null!==t;){var e=this._dependsTaskContexts.getFromIterator(t).taskContext;t=this._dependsTaskContexts.getNextIterator(t),e.setPriorityCalculator(this._priorityCalculator)}},t.prototype.unregisterDependPriorityCalculator=function(){if(!this._isRegisteredDependPriorityCalculator)throw"AsyncProxy.DependencyWorkers: not registered depend priority calculator";this._isRegisteredDependPriorityCalculator=!1;for(var t=this._dependsTaskContexts.getFirstIterator();null!==t;){var e=this._dependsTaskContexts.getFromIterator(t).taskContext;t=this._dependsTaskContexts.getNextIterator(t),e.setPriorityCalculator(null)}},Object.defineProperty(t.prototype,"dependTaskKeys",{get:function(){return this._dependTaskKeys}}),Object.defineProperty(t.prototype,"dependTaskResults",{get:function(){return this._dependTaskResults}}),t.prototype.registerTaskDependency=function(t){function e(e){a._dependTaskResults[l]=e,a._hasDependTaskData[l]=!0,a.taskApi._onEvent("dependencyTaskData",e,t),i=!0}function r(){if(o)throw"AsyncProxy.DependencyWorkers: Double termination";o=!0,a._dependsTaskTerminated()}var s=this._workerInputRetreiver.getKeyAsString(t),n=this._dependsTaskContexts.tryAdd(s,function(){return{taskContext:null}});if(!n.isNew)throw"AsyncProxy.DependencyWorkers: Cannot add task dependency twice";var a=this,i=!1,o=!1,l=this._dependTaskKeys.length;this._dependTaskKeys[l]=t,n.value.taskContext=this._parentDependencyWorkers.startTask(t,{onData:e,onTerminated:r}),!i&&n.value.taskContext.hasData()&&(this._pendingDelayedDependencyData.push({data:n.value.taskContext.getLastData(),onDependencyTaskData:e}),this._pendingDelayedAction||(this._pendingDelayedAction=!0,setTimeout(this._performPendingDelayedActionsBound)))},t.prototype._dependsTaskTerminated=function(){++this._dependsTasksTerminatedCount,this._dependsTasksTerminatedCount===this._dependsTaskContexts.getCount()&&this.taskApi._onEvent("allDependTasksTerminated"),this.statusUpdate()},t.prototype._performPendingDelayedActions=function(){var t,e;if(this._pendingDelayedAction=!1,this._pendingDelayedDependencyData.length>0){var r=this._pendingDelayedDependencyData;this._pendingDelayedDependencyData=[];for(var s=0;s<r.length;++s)r[s].onDependencyTaskData(r[s].data)}if(this._pendingDelayedNewData){var n=this.taskContexts;for(t=n.getFirstIterator();null!==t;)e=n.getFromIterator(t),t=n.getNextIterator(t),e._callbacks.onData(this.lastProcessedData,this.taskKey)}if(this._pendingDelayedEnded){for(t=this.taskContexts.getFirstIterator();null!==t;)e=this.taskContexts.getFromIterator(t),t=this.taskContexts.getNextIterator(t),e._callbacks.onTerminated&&e._callbacks.onTerminated();this.taskContexts.clear()}},t}();e.exports=i},{"dependency-workers-task":8,"js-builtin-hash-map":11,"linked-list":12}],7:[function(t,e,r){"use strict";function s(){return{}}function n(t,e){resourceScheduler.PriorityScheduler.call(this,s,t,a,e)}var a={getPriority:function(t){return t.calculatePriority()}};n.prototype=Object.create(resourceScheduler.PriorityScheduler.prototype),e.exports=n},{}],8:[function(t,e,r){"use strict";var s=function(){function t(t,e,r){if(this._wrapped=t,this._key=e,this._eventListeners={dependencyTaskData:[],statusUpdated:[],allDependTasksTerminated:[]},r)for(var s in this._eventListeners)this._registerWrappedEvent(s)}return t.prototype.dataReady=function(t,e){this._wrapped.dataReady(t,e)},t.prototype.terminate=function(){this._wrapped.terminate()},t.prototype.registerTaskDependency=function(t){return this._wrapped.registerTaskDependency(t)},t.prototype.calculatePriority=function(){return this._wrapped.calculatePriority()},t.prototype.on=function(t,e){if(!this._eventListeners[t])throw"AsyncProxy.DependencyWorkers: Task has no event "+t;this._eventListeners[t].push(e)},Object.defineProperty(t.prototype,"key",{get:function(){return this._key}}),Object.defineProperty(t.prototype,"dependTaskKeys",{get:function(){return this._wrapped.dependTaskKeys}}),Object.defineProperty(t.prototype,"dependTaskResults",{get:function(){return this._wrapped.dependTaskResults}}),t.prototype._onEvent=function(t,e,r){"statusUpdated"==t&&(e=this._modifyStatus(e));for(var s=this._eventListeners[t],n=0;n<s.length;++n)s[n].call(this,e,r)},t.prototype._modifyStatus=function(t){return t},t.prototype._registerWrappedEvent=function(t){var e=this;this._wrapped.on(t,function(r,s){e._onEvent(t,r,s)})},t}();e.exports=s},{}],9:[function(t,e,r){"use strict";var s=t("js-builtin-hash-map"),n=t("dependency-workers-task-internals"),a=t("dependency-workers-task-context"),i=t("async-proxy-master"),o=function(){function t(t){var e=this;if(e._workerInputRetreiver=t,e._taskInternalss=new s,e._workerPoolByTaskType=[],e._taskOptionsByTaskType=[],!t.getWorkerTypeOptions)throw"AsyncProxy.DependencyWorkers: No workerInputRetreiver.getWorkerTypeOptions() method";if(!t.getKeyAsString)throw"AsyncProxy.DependencyWorkers: No workerInputRetreiver.getKeyAsString() method"}return t.prototype.startTask=function(t,e){var r=this._workerInputRetreiver.getKeyAsString(t),s=this._taskInternalss.tryAdd(r,function(){return new n}),i=s.value,o=new a(i,e);return s.isNew&&(i.initialize(t,this,this._workerInputRetreiver,this._taskInternalss,s.iterator,this._workerInputRetreiver),this._workerInputRetreiver.taskStarted(i.taskApi)),o},t.prototype.startTaskPromise=function(t){var e=this;return new Promise(function(r,s){function n(t){l=!0,i=t}function a(){l?r(i):s("AsyncProxy.DependencyWorkers: Internal error - task terminated but no data returned")}var i,o=e.startTask(t,{onData:n,onTerminated:a}),l=o.hasData();l&&(i=o.getLastData())})},t.prototype.terminateInactiveWorkers=function(){for(var t in this._workerPoolByTaskType)for(var e=this._workerPoolByTaskType[t],r=0;r<e;++r)e[r].terminate(),e.length=0},t.prototype._dataReady=function(t,e,r){var s,n=this,a=n._workerPoolByTaskType[r];if(a||(a=[],n._workerPoolByTaskType[r]=a),a.length>0)s=a.pop();else{var o=n._workerInputRetreiver.getWorkerTypeOptions(r);if(!o)return t.newData(e),void t.statusUpdate();s=new i(o.scriptsToImport,o.ctorName,o.ctorArgs)}t.waitingForWorkerResult||(t.waitingForWorkerResult=!0,t.statusUpdate()),s.callFunction("start",[e,t.taskKey],{isReturnPromise:!0}).then(function(e){return t.newData(e),e})["catch"](function(t){return console.log("Error in DependencyWorkers' worker: "+t),t}).then(function(e){a.push(s),n._checkIfPendingData(t)||(t.waitingForWorkerResult=!1,t.statusUpdate())})},t.prototype._checkIfPendingData=function(t){if(!t.isPendingDataForWorker)return!1;var e=t.pendingDataForWorker;return t.isPendingDataForWorker=!1,t.pendingDataForWorker=null,this._dataReady(t,e,t.pendingWorkerType),!0},t}();e.exports=o},{"async-proxy-master":3,"dependency-workers-task-context":5,"dependency-workers-task-internals":6,"js-builtin-hash-map":11}],10:[function(t,e,r){"use strict";var s=t("linked-list"),n=function(){function t(t){var e=this;e._hasher=t,e.clear()}return t.prototype.clear=function(){this._listByKey=[],this._listOfLists=new s,this._count=0},t.prototype.getFromKey=function(t){var e=this._hasher.getHashCode(t),r=this._listByKey[e];if(!r)return null;for(var s=r.list,n=s.getFirstIterator();null!==n;){var a=s.getFromIterator(n);if(this._hasher.isEqual(a.key,t))return a.value;n=s.getNextIterator(n)}return null},t.prototype.getFromIterator=function(t){return t._hashElements.list.getFromIterator(t._internalIterator).value},t.prototype.tryAdd=function(t,e){var r=this._hasher.getHashCode(t),n=this._listByKey[r];n||(n={hashCode:r,list:new s,listOfListsIterator:null},n.listOfListsIterator=this._listOfLists.add(n),this._listByKey[r]=n);var a={_hashElements:n,_internalIterator:null};for(a._internalIterator=n.list.getFirstIterator();null!==a._internalIterator;){var i=n.list.getFromIterator(a._internalIterator);if(this._hasher.isEqual(i.key,t))return{iterator:a,isNew:!1,value:i.value};a._internalIterator=n.list.getNextIterator(a._internalIterator)}var o=e();return a._internalIterator=n.list.add({key:t,value:o}),++this._count,{iterator:a,isNew:!0,value:o}},t.prototype.remove=function(t){var e=t._hashElements.list.getCount();t._hashElements.list.remove(t._internalIterator);var r=t._hashElements.list.getCount();this._count+=r-e,0===r&&(this._listOfLists.remove(t._hashElements.listOfListsIterator),delete this._listByKey[t._hashElements.hashCode])},t.prototype.getCount=function(){return this._count},t.prototype.getFirstIterator=function(){var t=this._listOfLists.getFirstIterator(),e=null,r=null;return null!==t&&(e=this._listOfLists.getFromIterator(t),r=e.list.getFirstIterator()),null===r?null:{_hashElements:e,_internalIterator:r}},t.prototype.getNextIterator=function(t){for(var e={_hashElements:t._hashElements,_internalIterator:t._hashElements.list.getNextIterator(t._internalIterator)};null===e._internalIterator;){var r=this._listOfLists.getNextIterator(t._hashElements.listOfListsIterator);if(null===r)return null;e._hashElements=this._listOfLists.getFromIterator(r),e._internalIterator=e._hashElements.list.getFirstIterator()}return e},t}();e.exports=n},{"linked-list":12}],11:[function(t,e,r){"use strict";var s=t("hash-map"),n=function(){function t(){s.call(this,e)}var e={getHashCode:function(t){return t},isEqual:function(t,e){return t===e}};return t.prototype=Object.create(s.prototype),t}();e.exports=n},{"hash-map":10}],12:[function(t,e,r){"use strict";var s=function(){function t(){this.clear()}return t.prototype.clear=function(){this._first={_prev:null,_parent:this},this._last={_next:null,_parent:this},this._count=0,this._last._prev=this._first,this._first._next=this._last},t.prototype.add=function(t,e){null!==e&&void 0!==e||(e=this._last),this._validateIteratorOfThis(e),++this._count;var r={_value:t,_next:e,_prev:e._prev,_parent:this};return r._prev._next=r,e._prev=r,r},t.prototype.remove=function(t){this._validateIteratorOfThis(t),--this._count,t._prev._next=t._next,t._next._prev=t._prev,t._parent=null},t.prototype.getFromIterator=function(t){return this._validateIteratorOfThis(t),t._value},t.prototype.getFirstIterator=function(){var t=this.getNextIterator(this._first);return t},t.prototype.getLastIterator=function(){var t=this.getPrevIterator(this._last);return t},t.prototype.getNextIterator=function(t){return this._validateIteratorOfThis(t),t._next===this._last?null:t._next},t.prototype.getPrevIterator=function(t){return this._validateIteratorOfThis(t),t._prev===this._first?null:t._prev},t.prototype.getCount=function(){return this._count},t.prototype._validateIteratorOfThis=function(t){if(t._parent!==this)throw"iterator must be of the current LinkedList"},t}();e.exports=s},{}],13:[function(t,e,r){"use strict";var s=t("scheduler-wrapper-input-retreiver"),n=t("dependency-workers"),a=function(){function t(t,e){var r=new s(t,e);n.call(this,r)}return t.prototype=Object.create(n.prototype),t}();e.exports=a},{"dependency-workers":9,"scheduler-wrapper-input-retreiver":15}],14:[function(t,e,r){"use strict";var s=t("dependency-workers-task"),n=function(){function t(t,e,r,n){var a=this;s.call(this,n,n.key,!0),a._scheduler=t,a._inputRetreiver=e,a._isDisableWorkerCache=r,a._wrappedTask=n,a._onScheduledBound=a._onScheduled.bind(a),a._jobCallbacks=null,a._pendingDataToProcess=null,a._pendingWorkerType=0,a._hasPendingDataToProcess=!1,a._cancelPendingDataToProcess=!1,a._isWorkerActive=!1,a._isTerminated=!1,a._lastStatus={isWaitingForWorkerResult:!1}}return t.prototype=Object.create(s.prototype),t.prototype._modifyStatus=function(t){return this._lastStatus=JSON.parse(JSON.stringify(t)),this._checkIfJobDone(t),this._lastStatus.isWaitingForWorkerResult=t.isWaitingForWorkerResult||this._hasPendingDataToProcess,this._lastStatus},t.prototype.dataReady=function(t,e){if(this._isTerminated)throw"AsyncProxy.DependencyWorkers: Data after termination";if(void 0===this._isDisableWorkerCache[e]&&(this._isDisableWorkerCache[e]=null===this._inputRetreiver.getWorkerTypeOptions(e)),this._isDisableWorkerCache[e]){this._pendingDataToProcess=null,this._cancelPendingDataToProcess=this._hasPendingDataToProcess&&!this._isWorkerActive,this._hasPendingDataToProcess=!1,s.prototype.dataReady.call(this,t,e);var r=this._lastStatus.isWaitingForWorkerResult&&!this._hasPendingDataToProcess;return void(r&&(this._lastStatus.isWaitingForWorkerResult=!1,this._onEvent("statusUpdated",this._lastStatus)))}this._pendingDataToProcess=t,this._pendingWorkerType=e,this._cancelPendingDataToProcess=!1;var n=this._hasPendingDataToProcess;this._hasPendingDataToProcess=!0,n||this._isWorkerActive||this._scheduler.enqueueJob(this._onScheduledBound,this)},t.prototype.terminate=function(){if(this._isTerminated)throw"AsyncProxy.DependencyWorkers: Double termination";this._isTerminated=!0,this._hasPendingDataToProcess||s.prototype.terminate.call(this)},t.prototype._onScheduled=function(t,e,r){if(e!==this)throw"AsyncProxy.DependencyWorkers: Unexpected context";if(this._cancelPendingDataToProcess)this._cancelPendingDataToProcess=!1,r.jobDone();else{if(!this._hasPendingDataToProcess)throw"AsyncProxy.DependencyWorkers: !enqueuedProcessJob";this._isWorkerActive=!0,this._hasPendingDataToProcess=!1,this._jobCallbacks=r;var n=this._pendingDataToProcess;this._pendingDataToProcess=null,s.prototype.dataReady.call(this,n,this._pendingWorkerType)}this._isTerminated&&s.prototype.terminate.call(this)},t.prototype._checkIfJobDone=function(t){if(this._isWorkerActive&&!t.isWaitingForWorkerResult){if(this._cancelPendingDataToProcess)throw"AsyncProxy.DependencyWorkers: cancelPendingDataToProcess";this._isWorkerActive=!1;var e=this._jobCallbacks;this._jobCallbacks=null,this._hasPendingDataToProcess&&this._scheduler.enqueueJob(this._onScheduledBound,this),e.jobDone()}},t}();e.exports=n},{"dependency-workers-task":8}],15:[function(t,e,r){"use strict";var s=t("scheduler-task"),n=t("wrapper-input-retreiver-base"),a=function(){function t(t,e){n.call(this,e);var r=this;if(r._scheduler=t,r._inputRetreiver=e,r._isDisableWorkerCache={},!e.taskStarted)throw"AsyncProxy.DependencyWorkers: No inputRetreiver.taskStarted() method"}return t.prototype=Object.create(n.prototype),t.prototype.taskStarted=function(t){var e=new s(this._scheduler,this._inputRetreiver,this._isDisableWorkerCache,t);return this._inputRetreiver.taskStarted(e)},t}();e.exports=a},{"scheduler-task":14,"wrapper-input-retreiver-base":16}],16:[function(t,e,r){"use strict";var s=function(){function t(t){if(!t.getKeyAsString)throw"AsyncProxy.DependencyWorkers: No inputRetreiver.getKeyAsString() method";if(!t.getWorkerTypeOptions)throw"AsyncProxy.DependencyWorkers: No inputRetreiver.getTaskTypeOptions() method";var e=this;e._inputRetreiver=t}return t.prototype.taskStarted=function(t){throw"AsyncProxy.WrapperInputRetreiverBase internal error: Not implemented taskStarted()"},t.prototype.getKeyAsString=function(t){return this._inputRetreiver.getKeyAsString(t)},t.prototype.getWorkerTypeOptions=function(t){return this._inputRetreiver.getWorkerTypeOptions(t)},t}();e.exports=s},{}],17:[function(t,e,r){"use strict";var s=function(){function t(){var t=this;t._scriptsByName={},t._scriptsArray=null}return t.prototype.addScriptFromErrorWithStackTrace=function(e){var r=t._getScriptName(e);this._scriptsByName[r]||(this._scriptsByName[r]=!0,this._scriptsArray=null)},t.prototype.getScriptsForWorkerImport=function(){if(null===this._scriptsArray){this._scriptsArray=[];for(var t in this._scriptsByName)this._scriptsArray.push(t)}return this._scriptsArray},t._getScriptName=function(t){var e=t.stack.trim(),r=/at (|[^ ]+ \()([^ ]+):\d+:\d+/,s=r.exec(e);if(s&&""!==s[2])return s[2];var n=new RegExp(/.+\/(.*?):\d+(:\d+)*$/);if(s=n.exec(e),s&&""!==s[1])return s[1];if(void 0!==t.fileName)return t.fileName;throw"ImageDecoderFramework.js: Could not get current script URL"},t}();e.exports=s},{}],18:[function(t,e,r){arguments[4][17][0].apply(r,arguments)},{dup:17}],19:[function(t,e,r){"use strict";var s=function(){function t(t){if(null===r)throw"AsyncProxy internal error: SubWorkerEmulationForChrome not initialized";var s=this;s._subWorkerId=++e,r[s._subWorkerId]=s,self.postMessage({type:"subWorkerCtor",subWorkerId:s._subWorkerId,scriptUrl:t})}var e=0,r=null;return t.initialize=function(t){r=t},t.prototype.postMessage=function(t,e){self.postMessage({type:"subWorkerPostMessage",subWorkerId:this._subWorkerId,data:t},e)},t.prototype.terminate=function(t,e){self.postMessage({type:"subWorkerTerminate",subWorkerId:this._subWorkerId},e)},t}();e.exports=s},{}]},{},[1])(1)});